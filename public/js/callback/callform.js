!function(){function cPopupClose(){document.getElementById("cc-popup").style.display="none",document.getElementById("cc-popup-shadow").style.display="none",0==localStorage.hasOwnProperty("cc-call")&&localStorage.setItem("cc-call",1)}function cPopupOpen(){document.getElementById("cc-popup").style.display="block",document.getElementById("cc-popup-shadow").style.display="block";document.getElementById("cc-phone").value;document.getElementById("cc-phone").focus(),cSetEnd(document.getElementById("cc-phone"))}function cSetEnd(e){if(e.createTextRange){var t=e.createTextRange();t.moveStart("character",e.value.length),t.collapse(),t.select()}else{e.focus();var n=e.value.length;e.setSelectionRange(n,n)}}function cSendCall(){"undefined"!=eval("typeof yaCounter"+yandex_cn)&&eval("yaCounter"+yandex_cn).reachGoal(yandex_goal),document.getElementById("cc-error").innerHTML="";var phone=document.getElementById("cc-phone").value;if(!/^\+7[0-9]{10}$/.test(phone))return document.getElementById("cc-error").innerHTML="Неверный формат телефона: Телефон должен начинаться с +7 и содержать только цифры",!1;document.getElementById("cc-call").style.display="none",document.getElementById("cc-call1").style.display="inline-block",setTimeout(cTimerDown,1e3);var r=new XMLHttpRequest;r.open("GET",url+"?phone="+phone+"&key="+key,!0),r.onreadystatechange=function(){4!=r.readyState||200!=r.status},r.send()}function cTimerDown(){document.getElementById("cc-timer").style.color=color;var e=parseInt(document.getElementById("cc-timer").innerHTML);document.getElementById("cc-timer").innerHTML=e-1,e>1&&setTimeout(cTimerDown,1e3)}function noEventOpenCall(){clearTimeout(idleTimer),idleState=!1,idleTimer=setTimeout(function(){return idleState=!0,localStorage.hasOwnProperty("cc-call")&&1==localStorage.getItem("cc-call")?!1:void cPopupOpen()},idleWait)}var style="[style]",htmlInner="[html]",url="[url]",key="[key]",sop=parseInt("[sop]"),swe=parseInt("[swe]"),color="[color]",yandex_cn="[yandex_cn]",yandex_goal="[yandex_goal]",body=document.body,html=document.documentElement,height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),idleTimer=null,idleState=!1,idleWait=swe;document.addEventListener("mousemove",noEventOpenCall),document.addEventListener("keydown",noEventOpenCall),document.addEventListener("scroll",noEventOpenCall),document.addEventListener("touchstart",noEventOpenCall),document.body.insertAdjacentHTML("beforeend",style+htmlInner),document.getElementById("cc-popup-shadow").style.height=height,document.getElementById("cc-phone-button").onclick=cPopupOpen,document.getElementById("cc-close").onclick=cPopupClose,document.getElementById("cc-call").onclick=cSendCall,window.setTimeout(function(){return localStorage.hasOwnProperty("cc-call")&&1==localStorage.getItem("cc-call")?!1:void cPopupOpen()},sop)}();